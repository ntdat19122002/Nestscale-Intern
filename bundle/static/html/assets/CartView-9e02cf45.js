import{_ as x,M as B,T as V,r as _,b as g,o as a,c as d,d as t,F as k,e as C,f as v,w,g as P,t as u,a as T,h as f,i as I,v as Q,p as S,j as M,k as N}from"./index-0cc7fde1.js";import"/bundle/static/assets/images/logo/logo.png";const D={components:{MultipleBundle:B,TierBundle:V},setup(l){const h=_(null),p=_(null),o=_(0),m=_(0),i=async()=>{try{let e=await fetch("https://odoo.website/cart").then(c=>c.json());h.value=e.cart_lines,p.value=e.bundles,o.value=e.total,m.value=e.discount_total.toFixed(2)}catch(e){console.log(e.meassage)}};i();const r=async e=>{try{await fetch("https://odoo.website/delete-cart-line/"+e),i()}catch(c){console.log(c.meassage)}},y=e=>{s(e.id,--e.quantity)},b=e=>{s(e.id,++e.quantity)},s=async(e,c)=>{c<=0?(r(e),i()):(await fetch("https://odoo.website/update-cart-line/"+e+"/quantity/"+c).catch(q=>{console.log(q)}),i())};return{load:i,cart_lines:h,bundles:p,discount_total:m,total:o,deleteCartLine:r,changeQuantity:s,reduceQuantity:y,addQuantity:b}}},n=l=>(S("data-v-30171248"),l=l(),M(),l),F={class:"cart"},L=T('<div class="cart-status" data-v-30171248><hr data-v-30171248><div class="item-status" data-v-30171248><input type="radio" name="" id="" data-v-30171248><div data-v-30171248>Review order</div></div><div class="item-status" data-v-30171248><input type="radio" name="" id="" data-v-30171248><div data-v-30171248>Address</div></div><div class="item-status" data-v-30171248><input type="radio" name="" id="" data-v-30171248><div data-v-30171248>Confirm order</div></div></div>',1),j={class:"oder-process"},U={class:"cart-list"},A={key:0},E=n(()=>t("div",{class:"cart-list-header"},[t("div",{class:"product"}," Product "),t("div",{class:"quantity"}," Quantity "),t("div",{class:"price"}," Price ")],-1)),O={class:"product"},R=["src"],Y={key:1,src:N,alt:"Product Image"},z={class:"quantity"},G=["onClick"],H=["onChange","onUpdate:modelValue"],J=["onClick"],K={class:"price"},W=["onClick"],X=n(()=>t("i",{class:"fa-solid fa-trash"},null,-1)),Z=[X],$={key:1},tt={class:"cart-list-btn"},et={class:"pp-button"},st={class:"mini-button"},ot={key:2,class:"bundle"},at={class:"cart-order"},dt=n(()=>t("div",{class:"title"}," Order Total ",-1)),nt={class:"subtotal row-order"},it=n(()=>t("div",null," Subtotal: ",-1)),ct={class:"taxes row-order"},lt=n(()=>t("div",null," Discount: ",-1)),rt={class:"total row-order"},ut=n(()=>t("div",null," Total: ",-1)),_t=n(()=>t("div",{class:"promotion-code"}," I have a promo code ",-1)),vt=n(()=>t("div",{class:"checkout-btn"},[t("span",{class:"pp-button"},"Process Checkout")],-1));function ht(l,h,p,o,m,i){const r=g("router-link"),y=g("MultipleBundle"),b=g("TierBundle");return a(),d("div",F,[L,t("div",j,[t("div",U,[o.cart_lines&&o.cart_lines.length>0?(a(),d("div",A,[E,(a(!0),d(k,null,C(o.cart_lines,s=>(a(),d("div",{class:"cart-list-item",key:s},[t("div",O,[s.product.image?(a(),d("img",{key:0,src:"data:image/png;base64,"+s.product.image,alt:"Product Image"},null,8,R)):(a(),d("img",Y)),f(" "+u(s.product.name),1)]),t("div",z,[t("div",{class:"change-quantity-btn",onClick:e=>o.reduceQuantity(s)},"-",8,G),I(t("input",{onChange:e=>o.changeQuantity(s.id,s.quantity),type:"number","onUpdate:modelValue":e=>s.quantity=e},null,40,H),[[Q,s.quantity]]),t("div",{class:"change-quantity-btn",onClick:e=>o.addQuantity(s)},"+",8,J)]),t("div",K," $ "+u(s.product.price),1),t("div",{onClick:e=>o.deleteCartLine(s.id),class:"delete"},Z,8,W)]))),128))])):(a(),d("div",$," You haven't bought any product ")),t("div",tt,[t("div",et,[v(r,{to:{name:"shopPage",params:{page:1}}},{default:w(()=>[f("Continue Shopping")]),_:1})]),t("div",st,[v(r,{to:{name:"shopPage",params:{page:1}}},{default:w(()=>[f("Process Checkout")]),_:1})])]),o.bundles&&o.bundles.bundle_total?(a(),d("div",ot,[v(y,{bundle_total:o.bundles.bundle_total,bundle_each:o.bundles.bundle_each},null,8,["bundle_total","bundle_each"]),(a(!0),d(k,null,C(o.bundles.bundle_tier,s=>(a(),d("div",{key:s},[(a(!0),d(k,null,C(s.product,e=>(a(),d("div",{key:e,class:"tier-bundle"},[v(b,{product_image:e.image,product_id:e.id,product_name:e.name,bundle_title:s.title,qtys:e.qty},null,8,["product_image","product_id","product_name","bundle_title","qtys"])]))),128))]))),128))])):P("",!0)]),t("div",at,[dt,t("div",nt,[it,t("div",null," $ "+u(o.total),1)]),t("div",ct,[lt,t("div",null," $ "+u(o.discount_total),1)]),t("div",rt,[ut,t("div",null," $ "+u(o.total-o.discount_total),1)]),_t,vt])])])}const yt=x(D,[["render",ht],["__scopeId","data-v-30171248"]]);export{yt as default};
